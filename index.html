<!DOCTYPE html>
<html>
<head>
  <title>RanDom Acc Lq</title>
  <script src="https://cdn.jsdelivr.net/npm/json-stream@1.3.2/dist/json-stream.min.js"></script>
  <script>
    const randomBtn = document.getElementById('random-btn');
    const resultDiv = document.getElementById('result');

    fetch('acc.json')
    .then(response => response.body.getReader())
    .then(reader => {
        const jsonStream = new JsonStream();
        const chunkSize = 1024 * 1024; 
        const chunks = [];

        function readChunk() {
          reader.read().then(({ done, value }) => {
            if (done) {
              jsonStream.end();
              const jsonData = jsonStream.json;
              const randomLines = [];
              for (let i = 0; i < 2; i++) {
                const randomIndex = Math.floor(Math.random() * jsonData.length);
                randomLines.push(jsonData[randomIndex]);
                jsonData.splice(randomIndex, 1);
              }
              resultDiv.innerHTML = '';
              randomLines.forEach(line => {
                resultDiv.innerHTML += `<p>Tài khoản: ${line.taikhoan} | Mật khẩu: ${line.matkhau}</p>`;
              });
            } else {
              chunks.push(value);
              if (chunks.length * chunkSize > 5 * 1024 * 1024) { 
                jsonStream.write(chunks.join(''));
                chunks.length = 0;
              }
              readChunk();
            }
          });
        }

        readChunk();
      });
  </script>
</head>
<body>
  <h1>RanDom Acc LQ Free</h1>
  <button id="random-btn">Lấy 2 Acc Liên quân</button>
  <div id="result"></div>
</body>
</html>